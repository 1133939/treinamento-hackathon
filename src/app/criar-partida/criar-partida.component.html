<app-topo></app-topo>
<div class="espaco-button" *ngIf="partida.duelos == null">
        <button type="button" class="btn btn-info" (click)="fazerJogada()">Iniciar Partida</button>
</div>
<div class="espaco-button" *ngIf="partida.duelos != null">
        <button type="button" class="btn btn-info" (click)="fazerJogada()">Próximo Duelo</button>
        <button *ngIf="criarMutanteBoolean" type="button" class="btn btn-warning" data-toggle="modal" data-target="#criarMutante">Criar Mutante</button>
    </div>
<div *ngIf="partida.duelos!=null">
<table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Champion</th>
            <th scope="col">Challenger</th>
            <th scope="col">Skill</th>
            <th scope="col">Winner</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let duelo of partida.duelos; let i = index">
            <th scope="row">{{i+1}}</th>
            <td *ngFor="let p of duelo.personagens">{{p.nome}}
              <p class="left" *ngIf="duelo.atributo=='inteligencia'">({{p.inteligencia}})</p>
              <p class="left" *ngIf="duelo.atributo=='poder'">({{p.poder}})</p>
              <p class="left" *ngIf="duelo.atributo=='combate'">({{p.combate}})</p>
              <p class="left" *ngIf="duelo.atributo=='defesa'">({{p.defesa}})</p>
              <p class="left" *ngIf="duelo.atributo=='destreza'">({{p.destreza}})</p>
              <p class="left" *ngIf="duelo.atributo=='forca'">({{p.forca}})</p>
            </td>
            <td>{{duelo.atributo}}</td>
            <td>{{duelo.personagemVitorioso.nome}}</td>
          </tr>
        </tbody>
      </table>

      <div *ngIf="mutante.nome!=null">
          <div class="d-flex justify-content-center">
            <p class="lead">Você criou um HEROI MUTANTEEE !!!!!!!</p>
           </div>
            <table class="table table-dark">
                    <thead>
                      <tr>
                        <th scope="col">Nome</th>
                        <th scope="col">Alinhamento</th>
                        <th scope="col">Inteligência</th>
                        <th scope="col">Força</th>
                        <th scope="col">Destreza</th>
                        <th scope="col">Poder</th>
                        <th scope="col">Combate</th>
                        <th scope="col">Defesa</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">{{mutante.nome}}</th>
                        <td>{{mutante.alinhamento}}</td>
                        <td>{{mutante.inteligencia}}</td>
                        <td>{{mutante.forca}}</td>
                        <td>{{mutante.destreza}}</td>
                        <td>{{mutante.poder}}</td>
                        <td>{{mutante.combate}}</td>
                        <td>{{mutante.defesa}}</td>
                      </tr>
                    </tbody>
                  </table>
          </div>
        </div>



<!-- Modal -->
<div class="modal fade" id="criarMutante" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Criando Mutante</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form  [formGroup]="form" (ngSubmit)="salvarMutante()">
      <div class="modal-body">
       
          <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label">Nome</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" formControlName="nome">
              <p class="text-danger" *ngIf="!this.form.get('nome').valid && this.form.get('nome').touched">O nome deve conter entre 2 e 20 caracteres</p>
            </div>
          </div>
          
          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
          <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
      </form>
    </div>
  </div>
</div>


